<script>
function checkPass(){
    const pass = document.getElementById("password").value;
    const error = document.getElementById("error");

    error.style.display = "none";

    fetch("/VIP_PASS", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ password: pass })
    })
    .then(res => {
        if (!res.ok) throw new Error("wrong");
        return res.json();
    })
    .then(data => {
        if (data.ok) {
            document.getElementById("login").style.display = "none";
            document.getElementById("success").style.display = "block";
        }
    })
    .catch(() => {
        error.style.display = "block";
    });
}

function sendDesc(empty=false){
    const text = empty ? "" : document.getElementById("desc").value.slice(0,50);

    fetch("/send-to-bot", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ message: text })
    });
}
</script>
