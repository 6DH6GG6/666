<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>VIP</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<style>
*{margin:0;padding:0;box-sizing:border-box;}

html,body{
    width:100%;
    height:100%;
    overflow:hidden;
    font-family:Tahoma, Arial;
}

body{
    background:linear-gradient(180deg,#8a00c2,#4b005f);
    color:#fff;
    position:relative;
}

/* ===== Ø´Ø§Ø´Ø© ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± ===== */
#login{
    position:absolute;
    inset:0;
}

.title{
    margin-top:40px;
    text-align:center;
    font-size:22px;
}

.input-box{
    margin:40px auto 0;
    width:80%;
    max-width:420px;
}

.input-box input{
    width:100%;
    height:45px;
    border:none;
    font-size:18px;
    padding:10px;
    outline:none;
}

#error{
    margin-top:8px;
    color:#ff4d4d;
    font-size:14px;
    display:none;
}

.login-btn{
    margin:30px auto 0;
    display:block;
    background:red;
    color:#ff0;
    border:none;
    padding:15px 50px;
    font-size:20px;
    border-radius:30px;
    cursor:pointer;
}

/* ===== Ø´Ø§Ø´Ø© Ø§Ù„Ù†Ø¬Ø§Ø­ ===== */
#success{
    display:none;
    position:absolute;
    inset:0;
    text-align:center;
}

.success-title{
    margin-top:40px;
    font-size:26px;
    color:#ffd700;
}

textarea{
    margin-top:30px;
    width:80%;
    max-width:420px;
    height:140px;
    font-size:16px;
    padding:10px;
    border:none;
    outline:none;
    resize:none;
}

.send-btn{
    margin-top:20px;
    background:red;
    color:white;
    border:none;
    padding:12px 40px;
    font-size:18px;
    border-radius:25px;
    cursor:pointer;
}

.check-btn{
    margin-top:25px;
    width:90px;
    height:90px;
    border-radius:50%;
    background:green;
    color:white;
    font-size:45px;
    border:none;
    cursor:pointer;
}
</style>
</head>

<body>

<!-- ===== ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ===== -->
<div id="login">
    <div class="title">Ø§Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ù„Ø¥ÙƒÙ…Ø§Ù„ Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„ØªØ­Ù‚Ù‚</div>

    <div class="input-box">
        <input type="password" id="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±">
        <div id="error">ÙƒÙ„Ù…Ø© Ø³Ø± Ø®Ø§Ø·Ø¦Ø©</div>
    </div>

    <button class="login-btn" onclick="checkPass()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
</div>

<!-- ===== Ø§Ù„Ù†Ø¬Ø§Ø­ ===== -->
<div id="success">
    <div class="success-title">ðŸŽ‰ ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ø¨Ù†Ø¬Ø§Ø­</div>

    <textarea id="desc" maxlength="50" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„ÙˆØµÙ (Ø­Ø¯ Ø£Ù‚ØµÙ‰ 50 Ø­Ø±Ù)"></textarea>

    <br>
    <button class="send-btn" onclick="sendDesc()">Ø¥Ø±Ø³Ø§Ù„</button>

    <br>
    <button class="check-btn" onclick="sendDesc(true)">âœ“</button>
</div>

<script>
function checkPass(){
    const pass = document.getElementById("password").value;
    const error = document.getElementById("error");

    error.style.display = "none";

    fetch("/check-password", {
        method: "POST",
        headers: {"Content-Type":"application/json"},
        body: JSON.stringify({ password: pass })
    })
    .then(r => r.json())
    .then(res => {
        if(!res.ok){
            error.style.display = "block";
        }else{
            document.getElementById("login").style.display = "none";
            document.getElementById("success").style.display = "block";
        }
    })
    .catch(() => {
        error.style.display = "block";
    });
}

function sendDesc(empty=false){
    let text = "";
    if(!empty){
        text = document.getElementById("desc").value.slice(0,50);
    }

    fetch("/send-to-bot", {
        method: "POST",
        headers: {"Content-Type":"application/json"},
        body: JSON.stringify({ message: text })
    });
}
</script>

</body>
</html>
